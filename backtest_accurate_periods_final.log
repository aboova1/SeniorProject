2025-10-13 17:42:29,985 - INFO - Using device: cuda
2025-10-13 17:42:29,985 - INFO - Loading model from models\best_model.pt
2025-10-13 17:42:30,067 - INFO - Model loaded successfully
2025-10-13 17:42:30,067 - INFO - Loading sequences from train, val, and test sets...
2025-10-13 17:42:30,098 - INFO -   Train: 19120 rows, 101 tickers
2025-10-13 17:42:30,102 - INFO -   Val: 3728 rows, 22 tickers
2025-10-13 17:42:30,107 - INFO -   Test: 4776 rows, 21 tickers
2025-10-13 17:42:30,113 - INFO - Combined: 27624 rows, 3453 sequences, 144 unique tickers
2025-10-13 17:42:30,153 - INFO - Period start timing: Min=-5d, Max=31d, Mean=22.0d, Median=22d
2025-10-13 17:42:34,224 - INFO - Found 41 sequences for Q2 2025
2025-10-13 17:42:34,225 - INFO - Generating predictions...
2025-10-13 17:42:34,371 - INFO - Generated 41 predictions
2025-10-13 17:42:34,372 - INFO - Fetching Q3 2025 prices for 41 tickers...
2025-10-13 17:42:36,102 - INFO -   ABT: $134.59
2025-10-13 17:42:36,254 - INFO -   AXP: $329.41
2025-10-13 17:42:36,332 - INFO -   BLK: $1160.69
2025-10-13 17:42:36,449 - INFO -   C: $97.74
2025-10-13 17:42:36,521 - INFO -   DAL: $57.26
2025-10-13 17:42:36,585 - INFO -   FCX: $39.67
2025-10-13 17:42:36,693 - INFO -   FITB: $44.41
2025-10-13 17:42:36,833 - INFO -   GE: $297.00
2025-10-13 17:42:36,911 - INFO -   GS: $789.98
2025-10-13 17:42:36,952 - INFO -   ISRG: $452.35
2025-10-13 17:42:37,028 - INFO -   IVZ: $24.04
2025-10-13 17:42:37,136 - INFO -   JPM: $308.53
2025-10-13 17:42:37,208 - INFO -   KMI: $28.46
2025-10-13 17:42:37,308 - INFO -   NEE: $80.06
2025-10-13 17:42:37,352 - INFO -   NFLX: $1153.32
2025-10-13 17:42:37,453 - INFO -   SCHW: $94.08
2025-10-13 17:42:37,558 - INFO -   SLB: $34.26
2025-10-13 17:42:37,623 - INFO -   STLD: $145.09
2025-10-13 17:42:37,747 - INFO -   STT: $116.38
2025-10-13 17:42:37,821 - INFO -   SYF: $71.23
2025-10-13 17:42:37,910 - INFO -   TFC: $45.52
2025-10-13 17:42:38,033 - INFO -   TRV: $284.56
2025-10-13 17:42:38,074 - INFO -   UAL: $95.33
2025-10-13 17:42:38,162 - INFO -   UNP: $236.80
2025-10-13 17:42:38,249 - INFO -   USB: $48.07
2025-10-13 17:42:38,372 - INFO -   WFC: $80.67
2025-10-13 17:42:38,507 - INFO -   WRB: $76.86
2025-10-13 17:42:38,575 - INFO -   CFG: $53.82
2025-10-13 17:42:38,671 - INFO -   FAST: $47.88
2025-10-13 17:42:38,783 - INFO -   HBAN: $17.21
2025-10-13 17:42:38,879 - INFO -   MTB: $194.56
2025-10-13 17:42:38,976 - INFO -   RF: $26.39
2025-10-13 17:42:39,105 - INFO -   TXN: $180.32
2025-10-13 17:42:39,184 - INFO -   APH: $122.22
2025-10-13 17:42:39,302 - INFO -   JBHT: $137.95
2025-10-13 17:42:39,398 - INFO -   KEY: $18.63
2025-10-13 17:42:39,532 - INFO -   NTRS: $132.40
2025-10-13 17:42:39,656 - INFO -   PLD: $117.06
2025-10-13 17:42:39,758 - INFO -   PNC: $198.46
2025-10-13 17:42:39,870 - INFO -   T: $26.77
2025-10-13 17:42:39,971 - INFO -   VZ: $42.93
2025-10-13 17:42:39,971 - INFO - ======================================================================
2025-10-13 17:42:39,971 - INFO - TESTING Q2 2025 WITH THRESHOLDS 5% TO 25%
2025-10-13 17:42:39,971 - INFO - Investment per stock: $1,000
2025-10-13 17:42:39,971 - INFO - ======================================================================
2025-10-13 17:42:39,971 - INFO - 
Testing threshold: 5%...
2025-10-13 17:42:39,973 - INFO -   \u2713 ROI: 27.11%, Std Dev: 14.48%, Positions: 21, Accuracy: 100.0%
2025-10-13 17:42:39,973 - INFO - 
Testing threshold: 10%...
2025-10-13 17:42:39,976 - INFO -   \u2713 ROI: 28.48%, Std Dev: 14.10%, Positions: 17, Accuracy: 100.0%
2025-10-13 17:42:39,976 - INFO - 
Testing threshold: 15%...
2025-10-13 17:42:39,979 - INFO -   \u2713 ROI: 31.87%, Std Dev: 12.45%, Positions: 4, Accuracy: 100.0%
2025-10-13 17:42:39,979 - INFO - 
Testing threshold: 20%...
2025-10-13 17:42:39,981 - INFO -   \u2713 ROI: 27.16%, Std Dev: 0.00%, Positions: 1, Accuracy: 100.0%
2025-10-13 17:42:39,981 - INFO - 
Testing threshold: 25%...
2025-10-13 17:42:39,983 - INFO -   \u2713 ROI: 27.16%, Std Dev: 0.00%, Positions: 1, Accuracy: 100.0%
2025-10-13 17:42:39,983 - INFO - 
======================================================================
2025-10-13 17:42:39,983 - INFO - Q2 2025 BACKTEST COMPLETE
2025-10-13 17:42:39,983 - INFO - ======================================================================
2025-10-13 17:42:39,983 - INFO - BEST THRESHOLD: 15%
2025-10-13 17:42:39,983 - INFO -   ROI: 31.87%
2025-10-13 17:42:39,983 - INFO -   Std Dev: 12.45%
2025-10-13 17:42:39,983 - INFO -   Positions: 4
2025-10-13 17:42:39,983 - INFO -   Accuracy: 100.0%
2025-10-13 17:42:39,983 - INFO - ======================================================================
2025-10-13 17:42:39,984 - INFO - 
Results saved to backtest_q2_2025_results.json

=======================================================================================================================================
STOCKS SELECTED AT 15% THRESHOLD (Company-Specific Rebalance Dates)
=======================================================================================================================================
Ticker    Days   Q2 Price    Q3 Pred  Q3 Actual   Pred %  Actual %   Invested     Return Correct 
           Lag                                                                                   
---------------------------------------------------------------------------------------------------------------------------------------
GE          25 $   199.62 $   235.49 $   297.00    18.0%     48.8% $     1000 $   487.83 YES     
DAL          9 $    43.32 $    50.11 $    57.26    15.7%     32.2% $     1000 $   321.79 YES     
JPM         11 $   242.63 $   305.92 $   308.53    26.1%     27.2% $     1000 $   271.61 YES     
KEY         17 $    15.61 $    18.25 $    18.63    16.9%     19.3% $     1000 $   193.47 YES     
---------------------------------------------------------------------------------------------------------------------------------------
TOTAL                                                              $     4000 $  1274.69
=======================================================================================================================================
ROI: 31.87% | Accuracy: 4/4 (100.0%)
Note: 'Days Lag' shows company-specific days from Q2 end to rebalance date based on historical transcript timing
=======================================================================================================================================

==============================================================================================================
THRESHOLD COMPARISON
==============================================================================================================
 Threshold  Positions      ROI %    Std Dev %   Accuracy %    Total Return
--------------------------------------------------------------------------------------------------------------
        5%         21     27.11%       14.48%       100.0% $       5693.81
       10%         17     28.48%       14.10%       100.0% $       4842.01
       15%          4     31.87%       12.45%       100.0% $       1274.69
       20%          1     27.16%        0.00%       100.0% $        271.61
       25%          1     27.16%        0.00%       100.0% $        271.61
==============================================================================================================
